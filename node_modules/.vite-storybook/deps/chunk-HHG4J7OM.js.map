{
  "version": 3,
  "sources": ["../../@storybook/vue3/dist/esm/client/preview/decorateStory.js", "../../@storybook/vue3/dist/esm/client/preview/render.js"],
  "sourcesContent": ["import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { h } from 'vue';\nimport { sanitizeStoryContextUpdate } from '@storybook/store';\n\n/*\n  This normalizes a functional component into a render method in ComponentOptions.\n\n  The concept is taken from Vue 3's `defineComponent` but changed from creating a `setup`\n  method on the ComponentOptions so end-users don't need to specify a \"thunk\" as a decorator.\n */\nfunction normalizeFunctionalComponent(options) {\n  return typeof options === 'function' ? {\n    render: options,\n    name: options.name\n  } : options;\n}\n\nfunction prepare(rawStory, innerStory) {\n  var story = rawStory;\n\n  if (story == null) {\n    return null;\n  }\n\n  if (innerStory) {\n    return Object.assign({}, normalizeFunctionalComponent(story), {\n      components: Object.assign({}, story.components || {}, {\n        story: innerStory\n      })\n    });\n  }\n\n  return {\n    render: function render() {\n      return h(story);\n    }\n  };\n}\n\nexport function decorateStory(storyFn, decorators) {\n  return decorators.reduce(function (decorated, decorator) {\n    return function (context) {\n      var story;\n      var decoratedStory = decorator(function (update) {\n        story = decorated(Object.assign({}, context, sanitizeStoryContextUpdate(update)));\n        return story;\n      }, context);\n\n      if (!story) {\n        story = decorated(context);\n      }\n\n      if (decoratedStory === story) {\n        return story;\n      }\n\n      return prepare(decoratedStory, story);\n    };\n  }, function (context) {\n    return prepare(storyFn(context));\n  });\n}", "var _templateObject;\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.freeze.js\";\nimport dedent from 'ts-dedent';\nimport { createApp, h, shallowRef } from 'vue';\nexport var render = function render(props, context) {\n  var id = context.id,\n      Component = context.component;\n\n  if (!Component) {\n    throw new Error(\"Unable to render story \".concat(id, \" as the component annotation is missing from the default export\"));\n  } // TODO remove this hack\n\n\n  return h(Component, props);\n};\nexport var activeStoryComponent = shallowRef(null);\nvar root = null;\nexport var storybookApp = createApp({\n  // If an end-user calls `unmount` on the app, we need to clear our root variable\n  unmounted: function unmounted() {\n    root = null;\n  },\n  setup: function setup() {\n    return function () {\n      if (!activeStoryComponent.value) throw new Error('No Vue 3 Story available. Was it set correctly?');\n      return h(activeStoryComponent.value);\n    };\n  }\n});\nexport function renderToDOM(_ref, domElement) {\n  var title = _ref.title,\n      name = _ref.name,\n      storyFn = _ref.storyFn,\n      showMain = _ref.showMain,\n      showError = _ref.showError,\n      showException = _ref.showException;\n  storybookApp.config.errorHandler = showException;\n  var element = storyFn();\n\n  if (!element) {\n    showError({\n      title: \"Expecting a Vue component from the story: \\\"\".concat(name, \"\\\" of \\\"\").concat(title, \"\\\".\"),\n      description: dedent(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n        Did you forget to return the Vue component from the story?\\n        Use \\\"() => ({ template: '<my-comp></my-comp>' })\\\" or \\\"() => ({ components: MyComp, template: '<my-comp></my-comp>' })\\\" when defining the story.\\n      \"])))\n    });\n    return;\n  }\n\n  showMain();\n  activeStoryComponent.value = element;\n\n  if (!root) {\n    root = storybookApp.mount(domElement);\n  }\n}"],
  "mappings": ";;;;;;;;;;;;;AAYA,SAAS,6BAA6B,SAAS;AAC7C,SAAO,OAAO,YAAY,aAAa;AAAA,IACrC,QAAQ;AAAA,IACR,MAAM,QAAQ;AAAA,EAChB,IAAI;AACN;AAEA,SAAS,QAAQ,UAAU,YAAY;AACrC,MAAI,QAAQ;AAEZ,MAAI,SAAS,MAAM;AACjB,WAAO;AAAA,EACT;AAEA,MAAI,YAAY;AACd,WAAO,OAAO,OAAO,CAAC,GAAG,6BAA6B,KAAK,GAAG;AAAA,MAC5D,YAAY,OAAO,OAAO,CAAC,GAAG,MAAM,cAAc,CAAC,GAAG;AAAA,QACpD,OAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAEA,SAAO;AAAA,IACL,QAAQ,SAASA,UAAS;AACxB,aAAO,EAAE,KAAK;AAAA,IAChB;AAAA,EACF;AACF;AAEO,SAAS,cAAc,SAAS,YAAY;AACjD,SAAO,WAAW,OAAO,SAAU,WAAW,WAAW;AACvD,WAAO,SAAU,SAAS;AACxB,UAAI;AACJ,UAAI,iBAAiB,UAAU,SAAU,QAAQ;AAC/C,gBAAQ,UAAU,OAAO,OAAO,CAAC,GAAG,SAAS,2BAA2B,MAAM,CAAC,CAAC;AAChF,eAAO;AAAA,MACT,GAAG,OAAO;AAEV,UAAI,CAAC,OAAO;AACV,gBAAQ,UAAU,OAAO;AAAA,MAC3B;AAEA,UAAI,mBAAmB,OAAO;AAC5B,eAAO;AAAA,MACT;AAEA,aAAO,QAAQ,gBAAgB,KAAK;AAAA,IACtC;AAAA,EACF,GAAG,SAAU,SAAS;AACpB,WAAO,QAAQ,QAAQ,OAAO,CAAC;AAAA,EACjC,CAAC;AACH;;;AC/DA,IAAI;AAEJ,SAAS,uBAAuB,SAAS,KAAK;AAAE,MAAI,CAAC,KAAK;AAAE,UAAM,QAAQ,MAAM,CAAC;AAAA,EAAG;AAAE,SAAO,OAAO,OAAO,OAAO,iBAAiB,SAAS,EAAE,KAAK,EAAE,OAAO,OAAO,OAAO,GAAG,EAAE,EAAE,CAAC,CAAC;AAAG;AAQ/K,IAAI,SAAS,SAASC,QAAO,OAAO,SAAS;AAClD,MAAI,KAAK,QAAQ,IACb,YAAY,QAAQ;AAExB,MAAI,CAAC,WAAW;AACd,UAAM,IAAI,MAAM,0BAA0B,OAAO,IAAI,iEAAiE,CAAC;AAAA,EACzH;AAGA,SAAO,EAAE,WAAW,KAAK;AAC3B;AACO,IAAI,uBAAuB,WAAW,IAAI;AACjD,IAAI,OAAO;AACJ,IAAI,eAAe,UAAU;AAAA;AAAA,EAElC,WAAW,SAAS,YAAY;AAC9B,WAAO;AAAA,EACT;AAAA,EACA,OAAO,SAAS,QAAQ;AACtB,WAAO,WAAY;AACjB,UAAI,CAAC,qBAAqB;AAAO,cAAM,IAAI,MAAM,iDAAiD;AAClG,aAAO,EAAE,qBAAqB,KAAK;AAAA,IACrC;AAAA,EACF;AACF,CAAC;AACM,SAAS,YAAY,MAAM,YAAY;AAC5C,MAAI,QAAQ,KAAK,OACb,OAAO,KAAK,MACZ,UAAU,KAAK,SACf,WAAW,KAAK,UAChB,YAAY,KAAK,WACjB,gBAAgB,KAAK;AACzB,eAAa,OAAO,eAAe;AACnC,MAAI,UAAU,QAAQ;AAEtB,MAAI,CAAC,SAAS;AACZ,cAAU;AAAA,MACR,OAAO,8CAA+C,OAAO,MAAM,QAAU,EAAE,OAAO,OAAO,IAAK;AAAA,MAClG,aAAa,YAAO,oBAAoB,kBAAkB,uBAAuB,CAAC;AAAA;AAAA;AAAA,OAA2O,CAAC,EAAE;AAAA,IAClU,CAAC;AACD;AAAA,EACF;AAEA,WAAS;AACT,uBAAqB,QAAQ;AAE7B,MAAI,CAAC,MAAM;AACT,WAAO,aAAa,MAAM,UAAU;AAAA,EACtC;AACF;",
  "names": ["render", "render"]
}
